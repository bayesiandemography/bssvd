<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Create a Scaled SVD Object from HFD Age-Specific Fertility Data — ssvd_hfd • bssvd</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create a Scaled SVD Object from HFD Age-Specific Fertility Data — ssvd_hfd"><meta name="description" content='Create an object of class "bage_ssvd"
from age-specific fertility data from the
the Human Fertility Database.'><meta property="og:description" content='Create an object of class "bage_ssvd"
from age-specific fertility data from the
the Human Fertility Database.'></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">bssvd</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Create a Scaled SVD Object from HFD Age-Specific Fertility Data</h1>

      <div class="d-none name"><code>ssvd_hfd.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Create an object of class <code>"bage_ssvd"</code>
from age-specific fertility data from the
the <a href="https://www.humanfertility.org/Home/Index" class="external-link">Human Fertility Database</a>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ssvd_hfd</span><span class="op">(</span><span class="va">data</span>, age_min_max <span class="op">=</span> <span class="fl">15</span>, age_max_min <span class="op">=</span> <span class="fl">50</span>, n_comp <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A data frame containing HFD data.</p></dd>


<dt id="arg-age-min-max-">age_min_max, <a class="anchor" aria-label="anchor" href="#arg-age-min-max-"></a></dt>
<dd><p>age_max_min Every age classification
must at least span the range <code>[age_min_max, age_max_min)</code>.
Defaults are <code>15</code> and <code>50</code>.</p></dd>


<dt id="arg-n-comp">n_comp<a class="anchor" aria-label="anchor" href="#arg-n-comp"></a></dt>
<dd><p>Number of SVD components
to include in result. Default is <code>5</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An object of class <code>"bage_ssvd"</code></p>
    </div>
    <div class="section level2">
    <h2 id="lowest-and-highest-ages">Lowest and highest ages<a class="anchor" aria-label="anchor" href="#lowest-and-highest-ages"></a></h2>



<p>The original HFD data contains age groups <code>"12-"</code> (ie 12 and younger)
and <code>"55+"</code> (ie 55 and older). We treat these as closed intervals
<code>"12"</code> and <code>"55"</code>.</p>
<p>If an age classification in the return value covers a narrower
range than the data itself, then the youngest age
group in the return value includes ASFRs from younger age
groups in the data, and the oldest age group in the return
value includes ASFRs from older age groups in the data.
For instance, if the classification in the return value
starts at age 15, but the data starts at age 12,
the ASFR for age 15 includes ASFRs from ages 12, 13, and 14.</p>
<p>This shifting of ASFRs is common in analyses of fertility.</p>
    </div>
    <div class="section level2">
    <h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h2>


<p><strong>Step 1: Download data</strong></p>
<p>Register or log in at the Human Fertility Database,
and go to page
<a href="https://www.humanfertility.org/Data/ZippedDataFiles" class="external-link">ZippedDataFiles</a>.
Go to the "By statistic" table, and
download the file from the "Age-specific fertility rate" row.</p>
<p><strong>Step 2: Call function 'ssvd_hfd'</strong></p>
<p>Extract the file <code>asfrRR.txt</code> from the downloaded data,
and read in the contents,</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>data <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_table</span>(<span class="st">"asfrRR.txt"</span>, <span class="at">skip =</span> <span class="dv">2</span>)</span></code></pre><p></p></div>
<p><strong>Step 3: Call function 'ssvd_hfd'</strong></p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>HFD <span class="ot">&lt;-</span> <span class="fu">ssvd_hfd</span>(data)</span></code></pre><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index">
<ul><li><p><code><a href="hfd_tidy.html">hfd_tidy()</a></code> Tidy raw data, but do not process into SVD object.</p></li>
<li><p><code>ssvd_lfp()</code> Created scaled SVD object from OECD labour force
participation rate data.</p></li>
<li><p><code>bage::SVD()</code>, <code>bage::SVDS()</code> to use an object of class
<code>"bage_ssvd"</code> in a prior.</p></li>
</ul></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">HFD_small</span> <span class="op">&lt;-</span> <span class="fu">ssvd_hfd</span><span class="op">(</span><span class="va">asfr</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in if (n &lt; min) cli::cli_abort(c("{.arg {nm_n}} is less than {min}.",     i = "{.arg {nm_n}} is {.val {n}}.")):</span> argument is of length zero</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by John Bryant.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

